import{r as e,j as a,k as r,d as t,A as s,l,m as n,n as i}from"./trip-components-CFAaFKI4.js";import{t as o}from"./tripsData-DBc-1yER.js";import"./react-vendor-BQK9_sJn.js";import"./router-CDJVE5pb.js";function d(){const[d,c]=e.useState(""),[g,x]=e.useState("All Provinces"),[u,m]=e.useState("rating"),[b,h]=e.useState("desc"),[p,y]=e.useState(""),[v,f]=e.useState(!1),[k,j]=e.useState(1),[w,N]=e.useState({}),C=e.useRef(null),P=e=>{x(e),y(e),j(1),setTimeout((()=>{y("")}),3e3)},S=(e,a)=>{N((r=>({...r,[e]:a})))},K=o.map((e=>({...e,rating:w[e.id]||e.rating}))).filter((e=>{const a=e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase()),r="All Provinces"===g||e.province===g;return a&&r})).sort(((e,a)=>{let r,t;switch(u){case"rating":r=e.rating,t=a.rating;break;case"reviews":r=e.reviews,t=a.reviews;break;case"name":r=e.name.toLowerCase(),t=a.name.toLowerCase();break;case"accessibility":const s={Easy:1,Moderate:2,Challenging:3};r=s[e.accessibility]||4,t=s[a.accessibility]||4;break;default:return 0}return"asc"===b?r>t?1:-1:r<t?1:-1})),A=Math.ceil(K.length/24),R=K.slice(24*(k-1),24*k),T=e=>{var a;j(e),null==(a=C.current)||a.scrollIntoView({behavior:"smooth",block:"start"})};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4 py-12",children:[a.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-12",children:[a.jsx("span",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300 px-4 py-2 rounded-full text-sm font-semibold tracking-wide uppercase inline-block mb-4",children:"Popular Destinations"}),a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Discover Cambodia's Top-Rated Attractions"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Explore the highest-rated destinations loved by travelers across Cambodia"})]}),a.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(r,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search destinations...",value:d,onChange:e=>c(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-full bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("select",{value:g,onChange:e=>x(e.target.value),className:"appearance-none bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white pl-10 pr-10 py-3 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer transition-all duration-300 min-w-[200px]",children:["All Provinces","Banteay Meanchey","Battambang","Kampong Cham","Kampong Chhnang","Kampong Speu","Kampong Thom","Kampot","Kandal","Kep","Koh Kong","Kratie","Mondulkiri","Oddar Meanchey","Pailin","Phnom Penh","Preah Vihear","Prey Veng","Pursat","Ratanakiri","Siem Reap","Preah Sihanouk","Stung Treng","Svay Rieng","Takeo","Tbong Khmum"].map((e=>a.jsx("option",{value:e,children:e},e)))})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"appearance-none bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white px-4 py-3 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300",children:[a.jsx("option",{value:"rating",children:"Rating"}),a.jsx("option",{value:"reviews",children:"Reviews"}),a.jsx("option",{value:"name",children:"Name"}),a.jsx("option",{value:"accessibility",children:"Accessibility"})]}),a.jsx("button",{onClick:()=>{h("asc"===b?"desc":"asc"),j(1)},className:"p-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-300",children:"asc"===b?a.jsx(s,{size:20}):a.jsx(l,{size:20})})]}),a.jsx("button",{onClick:()=>f(!v),className:"lg:hidden p-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-all duration-300",children:a.jsx(n,{size:20})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Showing ",K.length," of ",o.length," ","destinations","All Provinces"!==g&&a.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full text-xs",children:g})]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto",ref:C,children:R.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:R.map((e=>a.jsx(i,{trip:e,onProvinceClick:P,isHighlighted:p===e.province,onRateTrip:S},e.id)))}),A>1&&a.jsxs("div",{className:"flex justify-center mt-8 space-x-2",children:[a.jsx("button",{onClick:()=>T(k-1),disabled:1===k,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:A},((e,r)=>a.jsx("button",{onClick:()=>T(r+1),className:`px-4 py-2 rounded-full ${k===r+1?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"} hover:bg-blue-500 hover:text-white transition-all duration-300`,children:r+1},r+1))),a.jsx("button",{onClick:()=>T(k+1),disabled:k===A,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(r,{size:48,className:"mx-auto"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No destinations found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Try adjusting your search terms or filters to find more destinations."}),a.jsx("button",{onClick:()=>{c(""),x("All Provinces"),j(1)},className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-all duration-300",children:"Clear Filters"})]})})]})}export{d as default};
