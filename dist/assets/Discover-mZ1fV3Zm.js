import{j as e,M as a}from"./index-CKLEMzqw.js";import{r}from"./router-DLm9MmqM.js";import{t}from"./tripsData-Ki4PeUd_.js";import{S as s,A as l,a as i,F as n,T as o}from"./TripCard-39TGj32G.js";import"./react-vendor-BQK9_sJn.js";import"./firebase-C2GiP1il.js";function d(){const[d,c]=r.useState(""),[g,u]=r.useState("All Provinces"),[x,m]=r.useState("rating"),[b,h]=r.useState("desc"),[p,y]=r.useState(""),[f,v]=r.useState(!1),[j,k]=r.useState(1),[w,N]=r.useState({}),C=r.useRef(null),S=e=>{u(e),y(e),k(1),setTimeout((()=>{y("")}),3e3)},P=(e,a)=>{N((r=>({...r,[e]:a})))},K=t.map((e=>({...e,rating:w[e.id]||e.rating}))).filter((e=>{const a=e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase()),r="All Provinces"===g||e.province===g;return a&&r})).sort(((e,a)=>{let r,t;switch(x){case"rating":r=e.rating,t=a.rating;break;case"reviews":r=e.reviews,t=a.reviews;break;case"name":r=e.name.toLowerCase(),t=a.name.toLowerCase();break;case"accessibility":const s={Easy:1,Moderate:2,Challenging:3};r=s[e.accessibility]||4,t=s[a.accessibility]||4;break;default:return 0}return"asc"===b?r>t?1:-1:r<t?1:-1})),T=Math.ceil(K.length/24),A=K.slice(24*(j-1),24*j),R=e=>{var a;k(e),null==(a=C.current)||a.scrollIntoView({behavior:"smooth",block:"start"})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4 py-12",children:[e.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-12",children:[e.jsx("span",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300 px-4 py-2 rounded-full text-sm font-semibold tracking-wide uppercase inline-block mb-4",children:"Discover Cambodia"}),e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Explore Our Top Destinations"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Discover the most beautiful and culturally rich destinations that Cambodia has to offer"})]}),e.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(s,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search destinations...",value:d,onChange:e=>c(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-full bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("select",{value:g,onChange:e=>u(e.target.value),className:"appearance-none bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white pl-10 pr-10 py-3 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer transition-all duration-300 min-w-[200px]",children:["All Provinces","Banteay Meanchey","Battambang","Kampong Cham","Kampong Chhnang","Kampong Speu","Kampong Thom","Kampot","Kandal","Kep","Koh Kong","Kratie","Mondulkiri","Oddar Meanchey","Pailin","Phnom Penh","Preah Vihear","Prey Veng","Pursat","Ratanakiri","Siem Reap","Preah Sihanouk","Stung Treng","Svay Rieng","Takeo","Tbong Khmum"].map((a=>e.jsx("option",{value:a,children:a},a)))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:x,onChange:e=>m(e.target.value),className:"appearance-none bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white px-4 py-3 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300",children:[e.jsx("option",{value:"rating",children:"Rating"}),e.jsx("option",{value:"reviews",children:"Reviews"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"accessibility",children:"Accessibility"})]}),e.jsx("button",{onClick:()=>{h("asc"===b?"desc":"asc"),k(1)},className:"p-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-300",children:"asc"===b?e.jsx(l,{size:20}):e.jsx(i,{size:20})})]}),e.jsx("button",{onClick:()=>v(!f),className:"lg:hidden p-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-all duration-300",children:e.jsx(n,{size:20})})]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Showing ",K.length," of ",t.length," ","destinations","All Provinces"!==g&&e.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full text-xs",children:g})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto",ref:C,children:A.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:A.map((a=>e.jsx(o,{trip:a,onProvinceClick:S,isHighlighted:p===a.province,onRateTrip:P},a.id)))}),T>1&&e.jsxs("div",{className:"flex justify-center mt-8 space-x-2",children:[e.jsx("button",{onClick:()=>R(j-1),disabled:1===j,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:T},((a,r)=>e.jsx("button",{onClick:()=>R(r+1),className:`px-4 py-2 rounded-full ${j===r+1?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"} hover:bg-blue-500 hover:text-white transition-all duration-300`,children:r+1},r+1))),e.jsx("button",{onClick:()=>R(j+1),disabled:j===T,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(s,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No destinations found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Try adjusting your search terms or filters to find more destinations."}),e.jsx("button",{onClick:()=>{c(""),u("All Provinces"),k(1)},className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-all duration-300",children:"Clear Filters"})]})})]})}export{d as default};
