import{j as e,a,b as r}from"./index-CKLEMzqw.js";import{u as s,r as t,L as l}from"./router-DLm9MmqM.js";import{L as o,E as n,a as i}from"./lock-Cy8JwuvR.js";import{C as d}from"./chrome-CCFPatsv.js";import{s as c,G as m,j as u,k as x}from"./firebase-C2GiP1il.js";import"./react-vendor-BQK9_sJn.js";const b=()=>{const u=s(),[b,h]=t.useState({email:"",password:""}),[g,y]=t.useState(!1),[p,f]=t.useState({}),[w,k]=t.useState(!1),[j,v]=t.useState(""),[N,P]=t.useState(navigator.onLine);t.useEffect((()=>{const e=()=>P(!0),a=()=>P(!1);return window.addEventListener("online",e),window.addEventListener("offline",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}}),[]);const S=e=>{const{name:a,value:r}=e.target;h((e=>({...e,[a]:r}))),p[a]&&f((e=>({...e,[a]:""}))),v("")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Sign in to your account to continue"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-100 dark:border-gray-700",children:[j&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:j})}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const a=(()=>{const e={};return b.email?/\S+@\S+\.\S+/.test(b.email)||(e.email="Email is invalid"):e.email="Email is required",b.password?b.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",e})();if(Object.keys(a).length>0)f(a);else if(N){k(!0);try{await c(r,b.email,b.password),u("/",{state:{message:"Login successful!"}})}catch(s){switch(s.code){case"auth/user-not-found":v("No account found with this email.");break;case"auth/wrong-password":v("Incorrect password. Please try again.");break;case"auth/invalid-email":v("Invalid email address.");break;case"auth/network-request-failed":v("Network error. Please check your connection.");break;case"auth/too-many-requests":v("Too many attempts. Please try again later.");break;default:v(s.message||"Login failed. Please try again.")}}finally{k(!1)}}else v("You are offline. Please check your connection.")},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",name:"email",value:b.email,onChange:S,className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 dark:bg-gray-700 dark:border-gray-600 dark:text-white "+(p.email?"border-red-500":"border-gray-300"),placeholder:"Enter your email"})]}),p.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:g?"text":"password",name:"password",value:b.password,onChange:S,className:"w-full pl-10 pr-12 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 dark:bg-gray-700 dark:border-gray-600 dark:text-white "+(p.password?"border-red-500":"border-gray-300"),placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:g?e.jsx(n,{className:"w-5 h-5"}):e.jsx(i,{className:"w-5 h-5"})})]}),p.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-300",children:"Remember me"})]}),e.jsx(l,{to:"/forgot",className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:w||!N,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:w?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"})]}),e.jsx("div",{className:"my-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]})}),e.jsx("div",{className:"space-y-3",children:e.jsxs("button",{onClick:()=>(async e=>{if(N){k(!0);try{let a;"google"===e&&(a=new m,a.setCustomParameters({prompt:"select_account"})),await x(r,a),u("/",{state:{message:`${e} login successful!`}})}catch(a){switch(a.code){case"auth/popup-blocked":v("Popup was blocked. Please allow popups and try again.");break;case"auth/popup-closed-by-user":v("Login was cancelled. Please try again.");break;case"auth/account-exists-with-different-credential":v("An account already exists with this email but different credentials. Try another sign-in method or link accounts.");break;case"auth/network-request-failed":v("Network error. Please check your connection.");break;case"auth/invalid-credential":v("Invalid credentials. Please check your provider settings.");break;case"auth/too-many-requests":v("Too many attempts. Please try again later.");break;default:v(a.message||`${e} login failed. Please try again.`)}}finally{k(!1)}}else v("You are offline. Please check your connection.")})("google"),disabled:w||!N,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(d,{className:"w-5 h-5 text-red-500 mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Continue with Google"})]})}),e.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600 dark:text-gray-300",children:["Don't have an account?"," ",e.jsx(l,{to:"/signup",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-semibold",children:"Sign up here"})]})]})]})})};export{b as default};
