import{c as e,j as t,H as s,M as a}from"./index-CKLEMzqw.js";import{r,u as i}from"./router-DLm9MmqM.js";import{S as o}from"./tripsData-Ki4PeUd_.js";
/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l=e("arrow-down-wide-narrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),n=e("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),d=e("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),c=e("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),u=e("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),x=e("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);function m({trip:e,onProvinceClick:l,isHighlighted:n,onRateTrip:c}){const[u,m]=r.useState(!1),[p,h]=r.useState(null),[g,f]=r.useState(null),v=i(),y=()=>{const t=JSON.parse(localStorage.getItem("favouriteTrips")||"[]").some((t=>t.id===e.id));m(t)};r.useEffect((()=>{y();const t=JSON.parse(sessionStorage.getItem("userRatings")||"{}")[e.id]||null;f(t)}),[e.id]),r.useEffect((()=>{const e=()=>{setTimeout((()=>{y()}),50)};return window.addEventListener("favouritesUpdated",e),()=>{window.removeEventListener("favouritesUpdated",e)}}),[e.id]);return t.jsxs("div",{className:"group relative bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden "+(n?"ring-2 ring-blue-500 ring-opacity-50 scale-102":""),children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[t.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:()=>{}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),t.jsx("button",{onClick:()=>{const t=JSON.parse(localStorage.getItem("favouriteTrips")||"[]");if(u){const s=t.filter((t=>t.id!==e.id));localStorage.setItem("favouriteTrips",JSON.stringify(s)),m(!1)}else{const s=[...t,e];localStorage.setItem("favouriteTrips",JSON.stringify(s)),m(!0)}window.dispatchEvent(new CustomEvent("favouritesUpdated"))},className:"absolute top-3 right-3 p-1.5 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-all duration-200","aria-label":u?"Remove from favourites":"Add to favourites",children:t.jsx(s,{size:18,className:(u?"text-red-500 fill-current":"text-white fill-none hover:text-red-200")+" transition-all duration-200 group-hover:scale-110"})}),t.jsxs("button",{onClick:()=>l(e.province),className:"absolute top-3 left-3 bg-blue-600/80 text-white px-2 py-1 rounded-full text-xs font-medium hover:bg-blue-700 transition-all duration-200 flex items-center gap-1",children:[t.jsx(a,{size:10}),e.province]}),t.jsxs("div",{className:"absolute bottom-2 left-2 flex gap-1",children:[t.jsxs("div",{className:"bg-white/80 backdrop-blur-sm text-gray-800 px-1.5 py-0.5 rounded-full text-xs font-medium flex items-center gap-1",children:[t.jsx(d,{size:10}),e.duration]}),t.jsx("div",{className:"bg-green-500/80 backdrop-blur-sm text-white px-1.5 py-0.5 rounded-full text-xs font-medium",children:e.access})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:e.name}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",children:e.description}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"flex items-center gap-0.5",children:((s,a=!1)=>{const r=null!==g?g:s;return Array.from({length:5},((s,i)=>t.jsx(o,{size:14,className:`transition-colors duration-200 ${a?"cursor-pointer":""} ${i<Math.floor(p??r)?"text-yellow-400 fill-current":i<(p??r)?"text-yellow-400 fill-current opacity-50":"text-gray-300"}`,onClick:a?t=>{t.preventDefault(),t.stopPropagation();const s=i+1;(t=>{const s=JSON.parse(sessionStorage.getItem("userRatings")||"{}");s[e.id]=t,sessionStorage.setItem("userRatings",JSON.stringify(s)),f(t)})(s),c&&c(e.id,s)}:void 0,onMouseEnter:a?()=>h(i+1):void 0,onMouseLeave:a?()=>h(null):void 0,role:a?"button":void 0,"aria-label":a?`Rate ${i+1} star${i+1===1?"":"s"}`:void 0},i)))})(e.rating,!0)}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:null!==g?g:e.rating}),t.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",e.reviews," reviews)"]})]}),t.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400",children:[t.jsx(x,{size:12}),t.jsx("span",{className:"text-xs",children:e.accessibility})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Best time: ",e.bestTime]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:()=>{v(`/trip/${e.id}`)},className:"bg-blue-600 hover:bg-blue-700 text-white px-2.5 py-1 rounded-full text-xs font-medium transition-all duration-200 hover:shadow-md flex items-center gap-1",children:[t.jsx(a,{size:12}),"Details"]})})]})]})]})}export{n as A,c as F,u as S,m as T,l as a};
